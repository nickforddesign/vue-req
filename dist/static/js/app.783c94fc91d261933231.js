webpackJsonp([1],{"0xDb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDef=h,t.pickBy=l,t.sleep=function(e){return new d.a(function(t){return setTimeout(t,e)})},t.validateArgs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.timeout,r=e.root,o=e.headers,s=e.timeout_duration,i={string:{root:r},number:{timeout_duration:s},function:{before:t,timeout:n},object:{headers:o}};for(var u in i)for(var a in i[u]){var c=i[u][a],f=void 0===c?"undefined":p()(c);if(h(c)&&f!==u)throw new TypeError('Expected parameter "'+a+'" to be of type "'+u+'", received "'+f+'"')}},n.d(t,"processResponse",function(){return b}),t.processHeaders=function(e,t){var n=!1===t?{}:o()({},e,t);for(var r in n)"function"==typeof n[r]&&(n[r]=n[r]());return n=l(h,n),new Headers(n)};var r=n("woOf"),o=n.n(r),s=n("Xxa5"),i=n.n(s),u=n("exGp"),a=n.n(u),c=n("pFYg"),p=n.n(c),f=n("//Fk"),d=n.n(f);function h(e){return void 0!==e}function l(e,t){var n={};for(var r in t)e(t[r])&&(n[r]=t[r]);return n}var v,b=(v=a()(i.a.mark(function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,e.prev=3,r=JSON.parse(n),t.ok){e.next=9;break}return e.abrupt("return",d.a.reject(r));case 9:return e.abrupt("return",o.responseHeaders?{body:r,headers:t.headers.entries()}:r);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",d.a.reject(n));case 15:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return v.apply(this,arguments)})},"2lNz":function(e,t,n){"use strict";var r=n("fZjL"),o=n.n(r),s=n("pFYg"),i=n.n(s),u=n("c/Tr"),a=n.n(u),c=n("Xxa5"),p=n.n(c),f=n("exGp"),d=n.n(f),h=n("mvHQ"),l=n.n(h),v=n("rKHE").port,b=n("0xDb");t.a={name:"app",data:function(){return{port:v,response:null,error:null,headers:null}},computed:{display:function(){return this.error?this.error:this.response?this.headers?"From server:\n\nheaders: "+l()(this.headers,null,2)+"\n\nbody: "+l()(this.response,null,2):"From server:\n\n"+l()(this.response,null,2):"Click a button to send request"}},methods:{test:function(e){var t=this;this.$request("/",{method:e}).then(function(e){t.response=t.pick(e),t.error=null,t.headers=null}).catch(function(){t.error="Cannot communicate with server"})},postWithBody:function(){var e=this;return d()(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request("/",{method:"POST",body:{test:!0}});case 2:n=t.sent,e.response=e.pick(n),e.error=null,e.headers=null;case 6:case"end":return t.stop()}},t,e)}))()},putWithBody:function(){var e=this;return d()(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$request("/",{method:"PUT",body:{test:1234}});case 2:n=t.sent,e.response=e.pick(n),e.error=null,e.headers=null;case 6:case"end":return t.stop()}},t,e)}))()},getWithHeaders:function(){var e=this;this.$request("/",{responseHeaders:!0}).then(function(t){e.response=t.body,e.headers=a()(t.headers)})},pick:function(e){return b.pickBy(function(e){return"object"!==(void 0===e?"undefined":i()(e))||o()(e).length},e)}}}},"7I1f":function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a()({},d,t),u=a()({},f.a,r),c=s.body&&i()(s.body),h=s.method,l=n.i(p.processHeaders)(u.headers,s.headers);/^https?:\/\//i.test(e)||(e=u.root+e);var v=o.a.race([fetch(e,a()({},s,{method:h,body:c,headers:l})).then(function(e){return n.i(p.processResponse)(e,s)}),new o.a(function(e,t){setTimeout(function(){t("request_timeout")},u.timeout_duration)})]);return v.catch(function(e){"request_timeout"===e&&"function"==typeof u.timeout&&u.timeout.apply(u.vm)}),v};var r=n("//Fk"),o=n.n(r),s=n("mvHQ"),i=n.n(s),u=n("woOf"),a=n.n(u),c=n("rplX"),p=(n.n(c),n("0xDb")),f=n("Zthf"),d={method:"GET",body:void 0,headers:{"Content-Type":"application/json"}}},"90m7":function(e,t,n){"use strict";var r,o=n("Xxa5"),s=n.n(o),i=n("woOf"),u=n.n(i),a=n("exGp"),c=n.n(a),p=n("7I1f"),f=n("0xDb"),d=n("Zthf"),h=this,l=(r=c()(s.a.mark(function e(t,r){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.i(f.validateArgs)(r),o=u()({vm:t},d.a,r),t.$request=function(){var e=c()(s.a.mark(function e(r,i){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof o.before||!u){e.next=3;break}return e.next=3,o.before.apply(t);case 3:return e.abrupt("return",n.i(p.a)(r,i,o));case 4:case"end":return e.stop()}},e,h)}));return function(t,n){return e.apply(this,arguments)}}();case 3:case"end":return e.stop()}},e,h)})),function(e,t){return r.apply(this,arguments)});t.a=function(e,t){return{beforeCreate:function(){l(this,t)}}}},"CxC/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("eNIl"),s=n("lVK7"),i=n("rKHE").port;r.a.config.productionTip=!1;r.a.use(s.a,{root:"http://localhost:"+i,headers:{Access:function(){return"test"},Refresh:"test_refresh_token"},before:function(){console.log("fire this before")},timeout:function(){console.log("fire this on timeout")}}),new r.a({el:"#app",template:"<App/>",components:{App:o.a}})},Vc3V:function(e,t,n){"use strict";var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h2",[e._v("vue-requests")]),e._v(" "),n("p",[e._v("The following is a basic demo of the vue-requests plugin. There is a demo express server running on port "),n("strong",[e._v(e._s(e.port))]),e._v(", set up to respond to basic requests.")]),e._v(" "),n("button",{on:{click:function(t){e.test("get")}}},[e._v("Get")]),e._v(" "),n("button",{on:{click:function(t){e.test("put")}}},[e._v("Put")]),e._v(" "),n("button",{on:{click:function(t){e.test("post")}}},[e._v("Post")]),e._v(" "),n("button",{on:{click:function(t){e.test("delete")}}},[e._v("Delete")]),e._v(" "),n("button",{on:{click:e.putWithBody}},[e._v("Put with body")]),e._v(" "),n("button",{on:{click:e.postWithBody}},[e._v("Post with body")]),e._v(" "),n("button",{on:{click:e.getWithHeaders}},[e._v("Get with response headers")]),e._v(" "),n("pre",[e._v(e._s(e.display))])])},staticRenderFns:[]};t.a=r},Zthf:function(e,t,n){"use strict";t.a={timeout_duration:2e4,timeout:!1,headers:{},root:""}},boQp:function(e,t){},eNIl:function(e,t,n){"use strict";var r=n("2lNz"),o=n("Vc3V");var s=function(e){n("boQp")},i=n("VU/8")(r.a,o.a,s,null,null);t.a=i.exports},lVK7:function(e,t,n){"use strict";var r=n("Zrlr"),o=n.n(r),s=n("wxAW"),i=n.n(s),u=n("90m7"),a=n("7I1f"),c=function(){function e(){o()(this,e)}return i()(e,null,[{key:"install",value:function(e,t){e.mixin(n.i(u.a)(e,t))}},{key:"Request",value:function(){return a.a.apply(void 0,arguments)}}]),e}();t.a=c},rKHE:function(e,t){e.exports={port:"7692"}}},["CxC/"]);